!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t){let n=e,r=t,l=null,s=[],i=0;switch(t){case"carrier":l=5;break;case"battleship":l=4;break;case"cruiser":case"submarine":l=3;break;case"destroyer":l=2}return{get isSunk(){return i===l},get hit(){return this.isHit},set hit(e){(s.includes(e)&&"player"===n&&"player-container"===e.parentNode.className||s.includes(e)&&"ai"===n&&"ai-container"===e.parentNode.className)&&(e.innerHTML="&#10006",i++,this.isHit=!0)},set orient(e){if("hozirontal"!==e&&"vertical"!==e)throw"invalid input";this.orientation=e},get currentPos(){return this.location},set setPos(e){if(k.includes(e)||L.includes(e))s=s.concat(e),this.location=s;else{if("clear"!==e)throw"Invalid Input";{let e=[];this.location=e}}},set selection(e){this.selected=e},get selection(){return this.selected},type:n,isHit:!1,name:r,length:l,location:s,selected:"none"}}function l(e){let t=[],n=Math.floor(Math.random());for(let e=0;e<100;e++)t.push(e);let r=Math.round(Math.random()*(t.length-1)),l=t[r],a=L[l],o=L.indexOf(a);for(let u of e)for(;"placed"!==u.selection&&(1===n?s(u,o,a,L):0===n&&i(u,o,a,L),n=Math.round(Math.random()),t.splice(r,1),r=Math.floor(Math.random()*(t.length-1)),l=t[r],a=L[l],o=L.indexOf(a),0!==t.length););}function s(e,t,n,r){let l=0;if(""===n.innerHTML){for(let n=t;n<t+e.length;n++)void 0!==r[n]&&"x"!==r[n].value&&a(n).i===a(t).i&&l++;for(let n=t;n<t+e.length;n++)l===e.length&&(r===k&&(r[n].style.background="rgb(141, 108, 47)"),r[n].value="x",e.setPos=r[n],e.selection="placed")}}function i(e,t,n,r){let l=0;if(""===n.innerHTML){for(let n=t;n<t+10*e.length;n+=10)void 0!==r[n]&&"x"!==r[n].value&&a(n).j===a(t).j&&l++;for(let n=t;n<t+10*e.length;n+=10)l===e.length&&void 0!==k[n]&&(r===k&&(r[n].style.background="rgb(141, 108, 47)"),r[n].value="x",e.setPos=r[n],e.selection="placed")}}function a(e){for(let t=0;t<H.length;t++)for(let n=0;n<H[t].length;n++)if(e===H[t][n])return{i:t,j:n}}function o(e){if("player"===e.type){let t=document.getElementsByClassName("playerShips")[0].getElementsByClassName("playships")[0].getElementsByClassName(e.name)[0];Array.from(t.getElementsByClassName("playership")).map(e=>e.style.background="rgb(34, 28, 28")}else if("ai"===e.type){let t=document.getElementsByClassName("aiShips")[0].getElementsByClassName("playships")[0].getElementsByClassName(e.name)[0];Array.from(t.getElementsByClassName("aiship")).map(e=>e.style.background="rgb(34, 28, 28")}}function u(e,t){e.every(e=>e.isSunk)&&(alert("AI Wins!"),k.map(e=>e.style.pointerEvents="none"),L.map(e=>e.style.pointerEvents="none")),t.every(e=>e.isSunk)&&(alert("Player Wins!"),k.map(e=>e.style.pointerEvents="none"),L.map(e=>e.style.pointerEvents="none"))}n.r(t),n.d(t,"board",(function(){return H})),n.d(t,"grid",(function(){return k})),n.d(t,"aiGrid",(function(){return L})),n.d(t,"rotate",(function(){return b})),n.d(t,"shipsDiv",(function(){return M})),n.d(t,"reset",(function(){return N}));let c=document.getElementsByClassName("playerShips"),d=document.getElementsByClassName("aiShips"),f=document.getElementsByClassName("shipSelection"),p=document.getElementsByClassName("start"),h=document.getElementsByClassName("restart");function m(e,t){let n=0,r=0;p[0].addEventListener("click",s=>{s.preventDefault(),r=1,e.every(e=>0!==e.currentPos.length)&&(p[0].style.display="none",h[0].style.display="unset",f[0].style.display="none",c[0].style.display="flex",d[0].style.display="flex",k.forEach(e=>e.style.pointerEvents="none"),L.forEach(e=>e.style.pointerEvents="unset"),1===n&&(n=0,l(t)),1===r&&function(e,t){let n=[];for(let e=0;e<100;e++)n.push(e);let r=Math.floor(Math.random()*(n.length-1)),l=k[n[r]],s=[],i=[],a=[];L.map(c=>{c.addEventListener("click",d=>{if(""===c.innerHTML){d.preventDefault();for(let n of t){if(n.currentPos.includes(c)){n.hit=c,n.isSunk&&(o(n),u(e,t));break}c.innerHTML="&#9675"}setTimeout(()=>{let c=!1;for(let n of e){if(n.currentPos.includes(l)){n.hit=l,n.isHit&&!n.isSunk?(c=!0,i.push("first")):n.isSunk&&(o(n),u(e,t));break}c=!1,l.innerHTML="&#9675"}if(c&&1===i.length)void 0!==k[n[r]-1]&&""===k[n[r]-1].innerHTML&&s.push(n[r]-1),void 0!==k[n[r]+1]&&""===k[n[r]+1].innerHTML&&s.push(n[r]+1),void 0!==k[n[r]-10]&&""===k[n[r]-10].innerHTML&&s.push(n[r]-10),void 0!==k[n[r]+10]&&""===k[n[r]+10].innerHTML&&s.push(n[r]+10),l=k[s[s.length-1]],s.splice(-1,1),c=!1;else if(c&&i.length>1)"✖"===k[a[a.length-1]-1].innerHTML?(l=k[a[a.length-1]+1],a.push(a[a.length-1]+1)):"✖"===k[a[a.length-1]+1].innerHTML?(l=k[a[a.length-1]-1],a.push(a[a.length-1]-1)):"✖"===k[a[a.length-1]-10].innerHTML?(l=k[a[a.length-1]+10],a.push(a[a.length-1]+10)):"✖"===k[a[a.length-1]+10].innerHTML&&(l=k[a[a.length-1]-10],a.push(a[a.length-1]-10)),c=!1;else if(!c&&s.length>0)l=k[s[s.length-1]],a.push(s[s.length-1]),s.splice(-1,1);else{for(;""!==k[r].innerHTML&&""!==k[r].innerHTML;)r=Math.floor(100*Math.random());l=k[n[r]],0===s.length&&i.length>0&&(i=[])}},1e3)}},!1)})}(e,t))}),h[0].addEventListener("click",e=>{location.reload()})}let y=document.getElementsByClassName("ship-item"),g=Array.from(y);let v=document.getElementsByClassName("player-item"),E=document.getElementsByClassName("ai-item"),b=document.getElementsByClassName("rotate"),M=document.getElementsByClassName("ships"),N=document.getElementsByClassName("reset"),k=Array.from(v),L=Array.from(E),H=[[0,1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18,19],[20,21,22,23,24,25,26,27,28,29],[30,31,32,33,34,35,36,37,38,39],[40,41,42,43,44,45,46,47,48,49],[50,51,52,53,54,55,56,57,58,59],[60,61,62,63,64,65,66,67,68,69],[70,71,72,73,74,75,76,77,78,79],[80,81,82,83,84,85,86,87,88,89],[90,91,92,93,94,95,96,97,98,99]];!function(){let e=[r("player","carrier"),r("player","battleship"),r("player","cruiser"),r("player","submarine"),r("player","destroyer")],t=[r("ai","carrier"),r("ai","battleship"),r("ai","cruiser"),r("ai","submarine"),r("ai","destroyer")];L.forEach(e=>e.style.pointerEvents="none"),m(e,t),function(e){var t=function(t){for(let n of e)n.name===t.target.parentNode.className&&"none"===n.selected&&(n.selection="staged")};g.map(e=>{e.addEventListener("click",t,!1)})}(e),function(e){var t="";let n=!0;b[0].addEventListener("click",e=>{e.preventDefault(),M[0].style.transform="rotate(90deg)"===M[0].style.transform?"rotate(0deg)":"rotate(90deg)",n=!0!==n});for(let r of k){let l=k.indexOf(r);r.addEventListener("click",a=>{for(let n of e)"staged"===n.selected&&(t=n);""!==t?(n?s(t,l,r,k):i(t,l,r,k),t=""):alert("ship already placed")})}}(e),l(t),function(e){N[0].addEventListener("click",t=>{t.preventDefault(),e.forEach(e=>{e.setPos="clear",e.selection="none"}),k.map(e=>{e.style.background="rgb(214, 199, 112)",e.value=""})})}(e)}()}]);